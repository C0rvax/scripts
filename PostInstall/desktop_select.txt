#!/bin/bash

# D√©tecter l'environnement de bureau
desktop_env=$(echo "$XDG_CURRENT_DESKTOP" | tr '[:upper:]' '[:lower:]')

echo "D√©tection de l'environnement de bureau : $desktop_env"

# Adapter le script en fonction de l'environnement d√©tect√©
case "$desktop_env" in
    kde|plasma)
        echo "Environnement d√©tect√© : KDE Plasma"
        # Ajoutez ici les commandes sp√©cifiques √† KDE Plasma
        ;;
    lxde|lxqt)
        echo "Environnement d√©tect√© : LXDE/LXQt"
        # Ajoutez ici les commandes sp√©cifiques √† LXDE ou LXQt
        ;;
    gnome)
        echo "Environnement d√©tect√© : GNOME"
        # Ajoutez ici les commandes sp√©cifiques √† GNOME
        ;;
    xfce)
        echo "Environnement d√©tect√© : XFCE"
        # Ajoutez ici les commandes sp√©cifiques √† XFCE
        ;;
    mate)
        echo "Environnement d√©tect√© : MATE"
        # Ajoutez ici les commandes sp√©cifiques √† MATE
        ;;
    cinnamon)
        echo "Environnement d√©tect√© : Cinnamon"
        # Ajoutez ici les commandes sp√©cifiques √† Cinnamon
        ;;
    *)
        echo "Environnement inconnu ou non pris en charge"
        ;;
esac

Oui, ce code fonctionne pour la plupart des environnements de bureau sous Linux, mais avec quelques nuances :
Explication du code :

    Cr√©er un dossier pour les polices personnalis√©es :

sudo mkdir -p /usr/share/fonts/truetype/custom

    /usr/share/fonts/truetype/custom/ est un emplacement standard o√π les polices sont accessibles √† tous les utilisateurs.

    Fonctionne sur GNOME, KDE, XFCE, LXDE, MATE, Cinnamon, etc.

Copier les fichiers .ttf dans ce dossier :

sudo cp MesloLGS\ NF\ *.ttf /usr/share/fonts/truetype/custom/

    Cette commande copie toutes les variantes de la police MesloLGS NF dans le dossier des polices.

    Attention : Assure-toi que les fichiers .ttf sont dans le r√©pertoire actuel lorsque tu ex√©cutes cette commande.

Mettre √† jour le cache des polices :

    sudo fc-cache -fv

        Cette commande force la mise √† jour du cache des polices pour que le syst√®me d√©tecte les nouvelles.

        Fonctionne sur toutes les distributions Linux utilisant fontconfig, ce qui couvre presque tous les environnements graphiques.

Exceptions et particularit√©s selon les environnements :

‚úÖ GNOME (Ubuntu, Fedora, Debian, etc.) ‚Üí Fonctionne.
‚úÖ KDE Plasma (Kubuntu, OpenSUSE, Manjaro KDE, etc.) ‚Üí Fonctionne.
‚úÖ XFCE (Xubuntu, Manjaro XFCE, etc.) ‚Üí Fonctionne.
‚úÖ LXDE/LXQt (Lubuntu, Raspberry Pi OS, etc.) ‚Üí Fonctionne.
‚úÖ MATE (Ubuntu MATE, Linux Mint MATE, etc.) ‚Üí Fonctionne.
‚úÖ Cinnamon (Linux Mint, Ubuntu Cinnamon, etc.) ‚Üí Fonctionne.

üî∏ Particularit√© sur Arch Linux et Manjaro :

    Il est recommand√© d'utiliser le dossier /usr/local/share/fonts au lieu de /usr/share/fonts, car /usr/share/fonts peut √™tre g√©r√© par le syst√®me et √©cras√© lors des mises √† jour.

üî∏ Particularit√© sur certaines distributions minimalistes :

    Certaines distributions l√©g√®res (Alpine Linux, Tiny Core Linux) peuvent ne pas avoir fc-cache install√© par d√©faut. Dans ce cas, il faudra installer fontconfig avec :

    sudo apt install fontconfig  # Debian/Ubuntu
    sudo pacman -S fontconfig     # Arch Linux
    sudo dnf install fontconfig   # Fedora

Alternative : Installer uniquement pour un utilisateur (sans sudo)

Si tu veux installer la police uniquement pour ton utilisateur, utilise plut√¥t :

mkdir -p ~/.fonts
cp MesloLGS\ NF\ *.ttf ~/.fonts/
fc-cache -fv

üëâ Avantage : Pas besoin de droits sudo, et √ßa fonctionne sur toutes les distributions.
Conclusion

‚úÖ Oui, ce code fonctionne pour presque tous les bureaux Linux.
‚úÖ Si tu veux une installation uniquement pour un utilisateur, utilise ~/.fonts/.
‚úÖ Sur Arch Linux, il vaut mieux utiliser /usr/local/share/fonts/.

Tu es pr√™t √† installer tes polices partout ! üöÄ
